@media (max-width: 768px) {
  /* æ˜¾ç¤ºç§»åŠ¨ç«¯å…ƒç´  */
  #mobileElements,
  .mobile-bottom-container {
    display: block !important;
  }
  
  /* éšè—æ¡Œé¢ç«¯ç»„ä»¶ */
  .left-panel,
  .right-panel,
  #desktopStatusBar,
  .daw-header .app-title small,
  .daw-header .app-title,
  .daw-header #settingsBtn,
  #msg,
  .keyboard-hint,
  #statusBox,
  #showSimplePanel,
  .simple-panel,
  .volume-control {
    display: none !important;
  }

  /* å¸ƒå±€å®¹å™¨ */
  .layout-grid-container {
    display: block !important;
    grid-template-rows: none !important;
    grid-template-areas: none !important;
    height: 100vh !important;
    overflow: hidden !important;
    position: relative !important;
  }
  /* ç®€åŒ–é¡¶éƒ¨æ ‡é¢˜æ  */
  .daw-header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 50px !important;
    background: var(--card) !important;
    border-bottom: 1px solid var(--btn-sec) !important;
    box-shadow: 0 2px 8px var(--shadow) !important;
    z-index: 1000 !important;
    padding: 0 12px !important;
    touch-action: none !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
  }

  .daw-header .icon-btn {
    width: 36px;
    height: 36px;
    font-size: 16px;
    
  }

  /* å®Œå…¨ç¦ç”¨ç§»åŠ¨ç«¯çš„æ‚¬åœæ•ˆæœ */
  .daw-header .icon-btn:hover {
    background: var(--btn-sec) !important;
    transform: none !important;
    box-shadow: none !important;
  }

  /* åªä¿ç•™ç‚¹å‡»åé¦ˆ */
  .daw-header .icon-btn:active {
    background: var(--btn-sec-h) !important;
    transform: scale(0.92) !important;
    transition: all 0.08s ease !important;
  }

  /* å¤ä½æŒ‰é’®åŸºç¡€æ ·å¼ */
  #resetQuestionBtn {
    width: 36px;
    height: 36px;
    font-size: 16px;
    background: var(--btn-sec);
    color: var(--text);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    cursor: pointer;
    transition: all 0.15s ease;
    -webkit-tap-highlight-color: transparent;
  }

  /* ç¦ç”¨ç§»åŠ¨ç«¯æ‚¬åœæ•ˆæœ */
  #resetQuestionBtn:hover {
    background: var(--btn-sec) !important;
    transform: none !important;
  }

  /* ç‚¹å‡»æ•ˆæœ */
  #resetQuestionBtn:active:not(.disabled) {
    background: var(--btn-sec-h) !important;
    transform: scale(0.92) !important;
    transition: all 0.08s ease !important;
  }

  /* ç¦ç”¨çŠ¶æ€æ ·å¼ */
  #resetQuestionBtn.disabled {
    opacity: 0.4 !important;
    cursor: not-allowed !important;
    transform: scale(0.9) !important;
  }

  #resetQuestionBtn.disabled:active {
    background: var(--btn-sec) !important;
    transform: scale(0.9) !important;
  }
  /* ç§»åŠ¨ç«¯æè¿°ä¿¡æ¯æ  */
  #mobileDescBar {
    position: fixed !important;
    top: 50px !important; 
    left: 0 !important;
    right: 0 !important;
    height: 40px !important;
    background: var(--card) !important;
    border-bottom: 1px solid var(--btn-sec) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 999 !important;
    box-shadow: 0 2px 4px var(--shadow) !important;
  }
  
  #mobileDescText {
    font-size: 14px;
    font-weight: 600;
    color: var(--text);
    text-align: center;
    padding: 0 16px;
  }

  /* ç§»åŠ¨ç«¯ä¾§æ»‘é¢æ¿ç³»ç»Ÿ */
  #mobileSidePanels {
    display: block !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 1000 !important;
    pointer-events: none !important;
  }

  /* ä¾§æ»‘é¢æ¿é€šç”¨æ ·å¼ */
  .mobile-side-panel {
    position: fixed !important;
    top: 0 !important;
    width: 85% !important;
    max-width: 320px !important;
    height: 100% !important;
    background: var(--card) !important;
    z-index: 1001 !important;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    overflow-y: auto !important;
    pointer-events: auto !important;
    display: flex !important;
    flex-direction: column !important;
    touch-action: pan-y;
    border-radius: 0 !important; /* å»æ‰é¢æ¿åœ†è§’æ˜¾å¾—æ›´ç®€æ´ */
    box-shadow: 2px 0 18px rgba(0,0,0,0.06) !important; /* è½»å¾®é˜´å½± */
    overflow: hidden; /* ç¡®ä¿è¾¹çº¿/åˆ†éš”ä¸è¶Šç•Œ */
  }

  .mobile-side-panel.swiping {
    touch-action: none; /* æ»‘åŠ¨æ—¶ç¦ç”¨æ‰€æœ‰è§¦æ‘¸æ“ä½œ */
  }

  .mobile-panel-overlay {
  touch-action: pan-y;
  }

  .mobile-panel-overlay.active {
  touch-action: none;
  }

  /* é˜²æ­¢å†…å®¹åŒºåŸŸæ»šåŠ¨æ—¶è§¦å‘é¢æ¿æ»‘åŠ¨ */
  .mobile-side-panel .panel-content {
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
  }

  /* å·¦ä¾§é¢æ¿ä½ç½® */
  #mobileLeftPanel {
    left: 0 !important;
    transform: translateX(-100%) !important;
  }

  /* å³ä¾§é¢æ¿ä½ç½® */
  #mobileRightPanel {
    transform: translateX(100%) !important;
  }

  /* é¢æ¿æ¿€æ´»çŠ¶æ€ */
  #mobileLeftPanel.active,
  #mobileRightPanel.active {
    display: flex !important;
    transform: translateX(0) !important;
  }

  /* é¢æ¿å¤´éƒ¨ */
  .mobile-side-panel .panel-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 16px 20px 12px 20px !important;
    border-bottom: 1px solid var(--btn-sec) !important;
    background: var(--card) !important;
    flex-shrink: 0 !important;
    position: relative;
  }

  .mobile-side-panel .panel-title {
    font-size: 18px !important;
    font-weight: 600 !important;
    color: var(--text) !important;
    text-align: center;
    margin: 0 !important;
    flex: 1;
  }

  .mobile-side-panel .panel-close {
    background: none !important;
    border: none !important;
    font-size: 20px !important;
    color: var(--text) !important;
    cursor: pointer !important;
    width: 36px !important;
    height: 36px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
    transition: background 0.2s !important;
    padding: 0 !important;
    position: static !important;
    transform: none !important;
    top: auto !important;
    right: auto !important;
  }

  .mobile-side-panel .panel-close:active {
    background: var(--btn-sec) !important;
  }

  /* é¢æ¿å†…å®¹åŒºåŸŸ */
  .mobile-side-panel .panel-content {
    flex: 1;
    padding: 20px;
    padding-bottom: 80px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
  }
  
  /* Webkitæ»šåŠ¨æ¡ */
  .mobile-side-panel .panel-content::-webkit-scrollbar {
    width: 4px;
  }
  
  .mobile-side-panel .panel-content::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .mobile-side-panel .panel-content::-webkit-scrollbar-thumb {
    background: transparent;
    border-radius: 2px;
    transition: background 0.4s ease;
  }
  
  .mobile-side-panel .panel-content.scrolling::-webkit-scrollbar-thumb {
    background: rgba(100, 100, 100, 0.4);
  }
  
  .mobile-side-panel .panel-content.scrolling:hover::-webkit-scrollbar-thumb {
    background: rgba(80, 80, 80, 0.6);
  }

  .mobile-panel-placeholder {
    text-align: center !important;
    color: var(--sub) !important;
    padding: 40px 20px !important;
    font-size: 16px !important;
  }

  /* ç§»åŠ¨ç«¯é¢æ¿æ»‘åŠ¨æ•ˆæœ */
#mobileLeftPanel,
#mobileRightPanel {
  transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
}

/* å·¦ä¾§é¢æ¿åˆå§‹ä½ç½®ï¼ˆéšè—åœ¨å·¦ä¾§ï¼‰ */
#mobileLeftPanel {
  transform: translateX(-100%);
}

#mobileLeftPanel.active {
  transform: translateX(0);
}

/* å³ä¾§é¢æ¿åˆå§‹ä½ç½®ï¼ˆéšè—åœ¨å³ä¾§ï¼‰ */
#mobileRightPanel {
  transform: translateX(100%);
}

#mobileRightPanel.active {
  transform: translateX(0);
}

/* æ»‘åŠ¨æ—¶çš„ä¸´æ—¶ç±» */
#mobileLeftPanel.swiping,
#mobileRightPanel.swiping {
  transition: none;
}

/* å³ä¾§é¢æ¿åŠ è½½åŠ¨ç”» */
.mobile-side-panel.right-panel.loading::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border: 3px solid var(--sub);
    border-top-color: var(--accent-color);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    z-index: 10;
}

/* åŠ è½½çŠ¶æ€ä¸‹éšè—å†…å®¹ */
.mobile-side-panel.right-panel.loading .mobile-tab-content {
    visibility: hidden;
}

/* é”™è¯¯æç¤ºæ ·å¼ */
.panel-error {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 8px 16px;
    background: rgba(255, 59, 48, 0.9);
    color: white;
    font-size: 13px;
    border-radius: 4px;
    z-index: 20;
}

/* æ—‹è½¬åŠ¨ç”» */
@keyframes spin {
    to { transform: translate(-50%, -50%) rotate(360deg); }
}
  /* é®ç½©å±‚ */
  .mobile-panel-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: rgba(0, 0, 0, 0.5) !important;
    z-index: 1000 !important;
    opacity: 0 !important;
    visibility: hidden !important;
    transition: all 0.3s ease !important;
    pointer-events: none !important;
  }

  .mobile-panel-overlay.active {
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
  }
/* ç§»åŠ¨ç«¯å·¦ä¾§é¢æ¿æ ·å¼ */
#mobileLeftPanel .setting-item {
  background: var(--card);
  border: 1px solid var(--btn-sec);
  border-radius: 8px;
  padding: 12px 16px;
  margin-bottom: 12px;
}

/* å‚ç›´å¸ƒå±€çš„å¤é€‰æ¡†å’Œæ»‘å— */
#mobileLeftPanel .checkbox-with-slider {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

#mobileLeftPanel .checkbox-label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

#mobileLeftPanel .slider-control {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: 24px; /* ç¼©è¿›å¯¹é½ */
}

/* æ—¶é—´æ­¥è¿›æŒ‰é’®å®¹å™¨ */
.checkbox-with-buttons {
  width: 100%;
}

.checkbox-with-buttons .checkbox-label {
  width: 100%;
  justify-content: flex-start;
  margin-bottom: 12px;
}

/* æ—¶é—´æ§åˆ¶æŒ‰é’®ç»„ */
.time-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
}

/* æ—¶é—´æŒ‰é’® */
.time-btn {
  width: 32px;
  height: 32px;
  border: 2px solid var(--btn-sec);
  background: var(--card);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: bold;
  color: var(--text);
  cursor: pointer;
  transition: all 0.2s ease;
  user-select: none;
  -webkit-tap-highlight-color: transparent; /* ç§»é™¤ç§»åŠ¨ç«¯ç‚¹å‡»é«˜äº® */
}

.time-btn:hover:not(:disabled) {
  background: var(--accent-color);
  color: white;
  border-color: var(--accent-color);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.time-btn:active:not(:disabled) {
  transform: scale(0.95);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.time-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  background: var(--btn-sec);
  color: var(--sub);
}

@media (hover: hover) and (pointer: fine) {
  .time-btn:hover:not(:disabled) {
    background: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
}

/* ç§»åŠ¨ç«¯ï¼šå®Œå…¨ç¦ç”¨ hover æ•ˆæœ */
@media (hover: none), (pointer: coarse) {
  .time-btn:hover {
    /* ç©ºè§„åˆ™ï¼Œè¦†ç›–æ‰€æœ‰ hover æ•ˆæœ */
    background: var(--card) !important;
    color: var(--text) !important;
    transform: none !important;
    box-shadow: none !important;
  }
}
/* æ—¶é—´æ˜¾ç¤º */
.time-value {
  min-width: 40px;
  text-align: center;
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  padding: 4px 8px;
  background: color-mix(in srgb, var(--accent-color) 10%, transparent);
  border-radius: 6px;
  transition: all 0.3s ease;
}

/* ç¦ç”¨çŠ¶æ€çš„æ—¶é—´æ˜¾ç¤º */
.time-controls:has( .checkbox-label input:not(:checked)) .time-value {
  background: var(--btn-sec);
  color: var(--sub);
  opacity: 0.6;
}

/* ä¿®å¤ç§»åŠ¨ç«¯å¤œé—´æ¨¡å¼å­—ä½“é¢œè‰² */
#mobileLeftPanel .mobile-settings-label,
#mobileLeftPanel .checkbox-text,
#mobileLeftPanel .time-value {
  color: var(--text) !important; /* ä½¿ç”¨ä¸»é¢˜æ–‡æœ¬é¢œè‰² */
}

#mobileLeftPanel .mobile-settings-title {
  color: var(--text) !important;
  background: color-mix(in srgb, var(--btn-sec) 20%, transparent);
}

/* æ—¶é—´æŒ‰é’®æ–‡å­—é¢œè‰² */
.time-btn {
  color: var(--text) !important;
}

.time-btn:disabled {
  color: var(--sub) !important;
}

/* ç¡®ä¿æ‰€æœ‰æ–‡æœ¬å…ƒç´ éƒ½ä½¿ç”¨CSSå˜é‡ */
#mobileLeftPanel * {
  color: var(--text);
}

#mobileLeftPanel .mobile-settings-option {
  color: var(--text);
}

/* ç‰¹åˆ«å¤„ç†ç¦ç”¨çŠ¶æ€ */
#mobileLeftPanel input:disabled ~ .checkbox-text,
#mobileLeftPanel .time-controls:has( .checkbox-label input:not(:checked)) .time-value {
  color: var(--sub) !important;
}

/* ============================ */
/* æ–°å¢ï¼šé”™è¯¯æ¬¡æ•°æŒ‰é’®ï¼ˆerror-btnï¼‰ */
/* ä½¿ç”¨ä¸ time-btn å®Œå…¨ç›¸åŒçš„æ ·å¼ */
/* ============================ */

.error-btn {
  width: 32px;
  height: 32px;
  border: 2px solid var(--btn-sec);
  background: var(--card);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: bold;
  color: var(--text);
  cursor: pointer;
  transition: all 0.2s ease;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.error-btn:hover:not(:disabled) {
  background: var(--accent-color);
  color: white;
  border-color: var(--accent-color);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.error-btn:active:not(:disabled) {
  transform: scale(0.95);
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.error-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  background: var(--btn-sec);
  color: var(--sub);
}

/* ç§»åŠ¨ç«¯ç¦ç”¨ hover */
@media (hover:none), (pointer:coarse) {
  .error-btn:hover {
    background: var(--card) !important;
    color: var(--text) !important;
    transform: none !important;
    box-shadow: none !important;
  }
}

/* é”™è¯¯æ¬¡æ•°æ•°å­—æ˜¾ç¤ºï¼ˆä¸ time-value ç»Ÿä¸€ï¼‰ */
.error-value {
  min-width: 40px;
  text-align: center;
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  padding: 4px 8px;
  background: color-mix(in srgb, var(--accent-color) 10%, transparent);
  border-radius: 6px;
  transition: all 0.3s ease;
}

/* ç¦ç”¨çŠ¶æ€ï¼šcheckbox æœªé€‰ä¸­æ—¶ */
.time-controls:has(#mobileErrorLimitCheckbox:not(:checked)) .error-value {
  background: var(--btn-sec);
  color: var(--sub);
  opacity: 0.6;
}


/********************************************/
/*        ğŸŒŸ å…¨å±€å˜é‡ï¼ˆå¯ç»Ÿä¸€è°ƒä¸»é¢˜ï¼‰        */
/********************************************/
:root {
  --panel-radius: 14px;
  --panel-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
  --panel-separator: color-mix(in srgb, var(--btn-sec) 40%, transparent);

  --btn-press-depth: 3px;      /* 3D æŒ‰å‹æ·±åº¦ */
  --value-roll-duration: 0.28s; /* æ•°å­—æ»šåŠ¨åŠ¨ç”»æ—¶é—´ */
}

/********************************************/
/*    ğŸŒŸ å·¦ä¾§é¢æ¿æ•´ä½“ç°ä»£åŒ–å¡ç‰‡æ•ˆæœ          */
/********************************************/
#mobileLeftPanel {
  border-radius: var(--panel-radius);
  box-shadow: var(--panel-shadow);
  overflow: hidden;
  backdrop-filter: blur(12px); /* å¾®ç£¨ç ‚æ•ˆæœ */
}

#mobileLeftPanel .panel-content {
  padding-top: 8px;
}

/* åˆ†éš”æ¡æ›´ç°ä»£ */
#mobileLeftPanel .mobile-settings-group {
  padding: 16px 14px 20px;
  border-bottom: 1px solid var(--panel-separator);
}

#mobileLeftPanel .mobile-settings-group:last-child {
  border-bottom: none;
}

/********************************************/
/*       ğŸŒŸ è®¾ç½®æ ‡é¢˜æ›´ç°ä»£åŒ–ï¼ˆiOS é£æ ¼ï¼‰     */
/********************************************/
#mobileLeftPanel .mobile-settings-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  padding: 4px 0 8px;
  opacity: 0.8;
  letter-spacing: 0.5px;
}

/********************************************/
/*        ğŸŒŸ æ•°å­—æ»šåŠ¨åŠ¨ç”»ï¼ˆæ—¶é—´/é”™è¯¯æ¬¡æ•°ï¼‰    */
/********************************************/
.time-value,
.error-value {
  position: relative;
  display: inline-block;
  overflow: hidden;
  height: 22px;
  line-height: 22px;
}

.time-value::after,
.error-value::after {
  content: attr(data-next);
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  text-align: center;
  opacity: 0;
  transition: transform var(--value-roll-duration) ease,
              opacity var(--value-roll-duration) ease;
}

.time-value.animate,
.error-value.animate {
  transform: translateY(-100%);
}

.time-value.animate::after,
.error-value.animate::after {
  opacity: 1;
  transform: translateY(-100%);
}

/********************************************/
/*          ğŸŒŸ 3D æŒ‰é’®æŒ‰å‹åŠ¨ç”»               */
/********************************************/
.time-btn,
.error-btn {
  transition: all 0.18s cubic-bezier(.25,.46,.45,.94);
  box-shadow: 0 3px 0 var(--btn-sec);
}

.time-btn:active:not(:disabled),
.error-btn:active:not(:disabled) {
  transform: translateY(var(--btn-press-depth));
  box-shadow: 0 0 0 var(--btn-sec);
}

/* ç¦ç”¨æ€ */
.time-btn:disabled,
.error-btn:disabled {
  box-shadow: none;
}

/********************************************/
/*     ğŸŒŸ ç§»åŠ¨ç«¯ç¦ç”¨ hoverï¼ˆç¡®ä¿è§¦å±ä¸€è‡´ï¼‰   */
/********************************************/
@media (hover: none), (pointer: coarse) {
  .time-btn:hover,
  .error-btn:hover {
    background: var(--card) !important;
    transform: none !important;
    box-shadow: 0 3px 0 var(--btn-sec) !important;
  }
}

/********************************************/
/*      ğŸŒŸ å¤œé—´æ¨¡å¼å…¼å®¹æ–‡æœ¬ / èƒŒæ™¯é¢œè‰²       */
/********************************************/
#mobileLeftPanel * {
  color: var(--text);
}

.time-value,
.error-value {
  background: color-mix(in srgb, var(--accent-color) 10%, transparent);
}

#mobileLeftPanel input:disabled ~ .checkbox-text,
#mobileLeftPanel .time-controls:has( input:not(:checked) ) .time-value {
  color: var(--sub) !important;
}

/* =========================
   é€‰ä¸­çŠ¶æ€ä¸‹ä»ä¿ç•™çº¢ / ç»¿ / æ©™é…è‰²
   ï¼ˆæ¡Œé¢ + ç§»åŠ¨ç«¯é€šç”¨ï¼‰
========================= */

/* ğŸŸ© é¦–å‡»æ­£ç¡® + é€‰ä¸­ */
.history-item.first-try.selected {
  border-left-color: #4ade80;
  background: linear-gradient(
    90deg,
    rgba(34, 197, 94, 0.15),
    rgba(34, 197, 94, 0.05),
    transparent
  );
}

/* ğŸŸ§ å¤šæ¬¡åæ­£ç¡® + é€‰ä¸­ */
.history-item.multi-try.selected {
  border-left-color: #fb923c;
  background: linear-gradient(
    90deg,
    rgba(249, 115, 22, 0.16),
    rgba(249, 115, 22, 0.06),
    transparent
  );
}

/* ğŸŸ¥ ç³»ç»Ÿæ­æ™“ + é€‰ä¸­ */
.history-item.system-reveal.selected {
  border-left-color: #f97373;
  background: linear-gradient(
    90deg,
    rgba(248, 113, 113, 0.18),
    rgba(248, 113, 113, 0.07),
    transparent
  );
}

/* æ·±è‰²æ¨¡å¼ä¸‹é€‰ä¸­ä¹Ÿä¿ç•™è‰²æ„Ÿ */
@media (prefers-color-scheme: dark) {
  .history-item.first-try.selected {
    background: rgba(16, 185, 129, 0.18);
  }
  .history-item.multi-try.selected {
    background: rgba(249, 115, 22, 0.18);
  }
  .history-item.system-reveal.selected {
    background: rgba(220, 38, 38, 0.18);
  }
}
  /* ä¸»å†…å®¹åŒºåŸŸ */
  .main-content {
    position: fixed !important;
  top: 90px !important; /* 50pxæ ‡é¢˜æ  + 40pxæè¿°æ  */
  bottom: 84px !important; /* æ“ä½œæ é«˜åº¦ */
  left: 0 !important;
  right: 0 !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  z-index: 1000 !important;
  background: var(--bg) !important;
  padding: 0 !important;
  margin: 0 !important;
  
  /* ç§»é™¤æ—§çš„é«˜åº¦è®¡ç®— */
  height: auto !important;
  }

  .central-container {
    width: 100% !important;
    height: 100% !important; /* ä½¿ç”¨å…¨éƒ¨é«˜åº¦ */
    padding: 0 !important; /* ç§»é™¤å†…è¾¹è· */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important; /* å‚ç›´å±…ä¸­ */
    align-items: center !important; /* æ°´å¹³å±…ä¸­ */
    gap: 0 !important; /* ç§»é™¤é—´è· */
    position: relative;
  }

  /* æ¶ˆæ¯æ˜¾ç¤º */
  #msg {
    order: 1;
    margin: 8px auto;
    font-size: 18px;
    min-height: 30px;
    flex-shrink: 0;
  }

  /* ç­”é¢˜åŒºä¼˜åŒ– */
#ans {
  width: 100% !important;
  height: 100% !important; /* ä½¿ç”¨å…¨éƒ¨é«˜åº¦ */
  max-width: none !important;
  margin: 0 !important; /* ç§»é™¤æ‰€æœ‰å¤–è¾¹è· */
  transform-origin: center center;
  position: relative;
  z-index: 2;
  box-shadow: 0 4px 16px var(--shadow);
  
  /* ç¡®ä¿å®Œå…¨å¡«å…… */
  flex: 1 !important;
  min-height: 0 !important; /* é‡è¦ï¼šå…è®¸ç¼©å° */
  display: grid !important;
}
  
  /* æŒ‰é”®åŸºç¡€æ ·å¼ */
  .key-btn {
    font-size: calc(1.6rem * var(--text-scale, 1)) !important; /* å¢å¤§å­—ä½“ */
    font-weight: 800 !important;
    padding: 0 !important; /* ç§»é™¤å†…è¾¹è· */
    border: none !important;
    background: var(--key-btn-bg) !important;
    color: var(--key-btn-color) !important;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: relative;
    text-shadow: none !important;
    margin: 0 !important;
    border-radius: 0 !important; /* ç§»é™¤åœ†è§’ */
    
    /* å®Œå…¨å¡«å…… */
    width: 100% !important;
    height: 100% !important;
    min-width: 0 !important;
    min-height: 0 !important;
  }
  
  /* 8é”®æ¨¡å¼ï¼š6åˆ—ç»†åˆ†ç½‘æ ¼ */
  #ans.notes-8 {
    grid-template-columns: repeat(6, 1fr) !important;
    grid-template-rows: repeat(3, 1fr) !important;
    gap: 0 !important; /* ç§»é™¤ç½‘æ ¼é—´éš™ */
    border-radius: 0 !important; /* ç§»é™¤åœ†è§’ä»¥å®Œå…¨å¡«å…… */
  }
  
  /* 8é”®å‰6ä¸ªæŒ‰é’®å„è·¨2å°åˆ— */
  #ans.notes-8 .key-btn:nth-child(-n+6) {
    grid-column: span 2 !important;
  }
  
  /* æœ€åä¸€è¡ŒæŒ‰é’®é€šç”¨æ ·å¼ */
  #ans .key-btn.last-row-btn {
    min-height: 70px !important; /* å¢åŠ æœ€åä¸€è¡Œé«˜åº¦ */
  }
  
  /* 8é”®æœ€å2ä¸ªæŒ‰é’®å„è·¨3å°åˆ— */
  #ans.notes-8 .key-btn.last-row-btn {
    grid-column: span 3 !important;
  }
  
  /* 13é”®æ¨¡å¼ï¼š4åˆ—å¸ƒå±€ */
  #ans.notes-13 {
    grid-template-columns: repeat(4, 1fr) !important;
    grid-template-rows: repeat(4, 1fr) !important;
    gap: 0 !important; /* ç§»é™¤ç½‘æ ¼é—´éš™ */
    border-radius: 0 !important; /* ç§»é™¤åœ†è§’ä»¥å®Œå…¨å¡«å…… */
  }
  
  /* 13é”®æœ€å1ä¸ªæŒ‰é’®å æ»¡æ•´è¡Œ */
  #ans.notes-13 .key-btn.last-row-btn {
    grid-column: 1 / -1 !important;
  }

 /* 8é”®åœ†è§’è®¾ç½® */
#ans.notes-8 .key-btn:nth-child(1) {
  border-radius: 12px 0 0 0 !important;
}
#ans.notes-8 .key-btn:nth-child(3) {
  border-radius: 0 12px 0 0 !important;
}
#ans.notes-8 .key-btn:nth-child(7) {
  border-radius: 0 0 0 12px !important;
}
#ans.notes-8 .key-btn:nth-child(8) {
  border-radius: 0 0 12px 0 !important;
}

/* 13é”®åœ†è§’è®¾ç½® */
#ans.notes-13 .key-btn:nth-child(1) {
  border-radius: 12px 0 0 0 !important;
}
#ans.notes-13 .key-btn:nth-child(4) {
  border-radius: 0 12px 0 0 !important;
}
#ans.notes-13 .key-btn:nth-child(13) {
  border-radius: 0 0 12px 12px !important;
}
  
  /* éŸ³çº§é¢œè‰²å®šä¹‰ */
  .key-btn[data-degree="I"] { border-left-color: var(--degree-I) !important; }
  .key-btn[data-degree="II"] { border-left-color: var(--degree-II) !important; }
  .key-btn[data-degree="III"] { border-left-color: var(--degree-III) !important; }
  .key-btn[data-degree="IV"] { border-left-color: var(--degree-IV) !important; }
  .key-btn[data-degree="V"] { border-left-color: var(--degree-V) !important; }
  .key-btn[data-degree="VI"] { border-left-color: var(--degree-VI) !important; }
  .key-btn[data-degree="VII"] { border-left-color: var(--degree-VII) !important; }

  /* =========================
     åº•éƒ¨å›ºå®šåŒºåŸŸ
  ========================= */

  /* åº•éƒ¨ç»„åˆå®¹å™¨ */
  .mobile-bottom-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    z-index: 95;
    background: var(--card);
    box-shadow: 0 -2px 10px var(--shadow);
    z-index: 1 !important; 
    height: 84px; /* åªéœ€è¦æ“ä½œæ çš„é«˜åº¦ */
  }

  /* =========================
   å¤§æ’­æ”¾é”® - ä¸€ä½“åŒ–è®¾è®¡ (æ–¹æ¡ˆ3)
========================= */

.big-play-button {
  width: 76px !important;
  height: 76px !important;
  min-height: 76px !important;
  position: fixed !important;
  bottom: 84px !important;
  left: 50% !important;
  transform: translateX(-50%) translateY(50%) !important;
  border-radius: 50% !important;
  background: linear-gradient(135deg, var(--accent-color) 0%, var(--btn-primary-end) 100%) !important;
  border: 6px solid var(--card) !important;
  box-shadow: none !important;
  z-index: 1001 !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  cursor: pointer;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 !important;
  padding: 0 !important;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  
  /* é‡ç½®æ¡Œé¢ç«¯å¯èƒ½å½±å“çš„å…¶ä»–å±æ€§ */
  color: transparent !important;
  flex-direction: row !important;
}

/* è¦†ç›–æ¡Œé¢ç«¯å¤œé—´æ¨¡å¼æ ·å¼ */
body.dark .big-play-button {
  background: linear-gradient(135deg, var(--accent-color) 0%, var(--btn-primary-end) 100%) !important;
  box-shadow: none !important;
  border: 6px solid var(--card) !important;
}

body.dark .big-play-button:hover {
  background: linear-gradient(135deg, var(--accent-color) 0%, var(--btn-primary-end) 100%) !important;
  box-shadow: none !important;
  transform: translateX(-50%) translateY(50%) scale(1.05) !important;
}

body.dark .big-play-button:active {
  background: linear-gradient(135deg, var(--accent-color) 0%, var(--btn-primary-end) 100%) !important;
  transform: translateX(-50%) translateY(50%) scale(0.95) !important;
}

body.dark .big-play-button.disabled {
  background: linear-gradient(135deg, var(--accent-color) 0%, var(--btn-primary-end) 100%) !important;
  opacity: 0.6 !important;
}

/* è¦†ç›–æ¡Œé¢ç«¯çš„å›¾æ ‡æ ·å¼ */
.big-play-button .big-play-icon {
  filter: brightness(0) invert(1) !important;
  width: 32px !important;
  height: 32px !important;
  background-size: contain !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  transform: scale(1) !important;
  transform-origin: center !important;
}

/* éšè—æ¡Œé¢ç«¯çš„æ–‡å­— */
.big-play-button .big-play-text {
  display: none !important;
}

/* è¦†ç›–äº¤äº’çŠ¶æ€ */
.big-play-button:hover {
  transform: translateX(-50%) translateY(50%) scale(1.05) !important;
  box-shadow: none !important;
}

.big-play-button:active {
  transform: translateX(-50%) translateY(50%) scale(0.95) !important;
  transition: all 0.1s ease !important;
}

.big-play-button.disabled {
  opacity: 1 !important;
  transform: translateX(-50%) translateY(50%) !important;
  cursor: not-allowed !important;
}

.big-play-button.key-press-feedback {
  transform: translateX(-50%) translateY(50%) scale(0.95) !important;
  box-shadow: none !important;
}

/* ç¡®ä¿æ“ä½œæ èƒŒæ™¯è‰²ä¸å¤§æ’­æ”¾é”®æè¾¹ä¸€è‡´ */
.mobile-bottom-container {
  background: var(--card) !important;
}

  /* æ“ä½œæ  */
  .mobile-bottom-controls {
    min-height: 84px !important;
    height: 84px !important;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0 !important;
    border-bottom: 1px solid var(--btn-sec-h);
    position: relative; /* ä¸ºä¼ªå…ƒç´ å®šä½åšå‡†å¤‡ */
    background: var(--card); /* ç¡®ä¿èƒŒæ™¯è‰²ç»Ÿä¸€ */
  }

  .mobile-control-btn {
    background: var(--card);
  border: none;
  padding: 12px;
  font-weight: 600;
  color: var(--text);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  border-radius: 0;
  margin: 0 !important;
  font-size: 14px;
  height: 100%; /* å æ»¡84pxé«˜åº¦ */
  }
  

  /* å›¾æ ‡æ ·å¼ */
  .mobile-icon {
    font-size: 20px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s ease;
  }
/* æ–‡å­—æ ‡ç­¾æ ·å¼ */
.mobile-label {
  font-size: 13px;
  font-weight: 500;
  line-height: 1.2;
  color: var(--text);
}

/* æŒ‰é’®äº¤äº’æ•ˆæœ */
.mobile-control-btn:active {
  background: var(--btn-sec-h);
}
.mobile-control-btn:active .mobile-icon {
  transform: scale(0.95);
}

  /* å±æ€§ä¿¡æ¯æ  */
  .mobile-properties-panel {
    background: var(--card);
    padding: 8px 16px !important;
    display: block !important;
    height: 40px !important;
    display: flex !important;
    align-items: center !important;
    display: none !important
  }

  .simple-properties {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    width: 100%;
    height: 100%;
  }

  .property-items {
    display: flex !important;
    gap: 20px !important;
    flex: 1;
    overflow-x: auto;
    align-items: center;
    height: 100%;
  }

  /* å±æ€§é¡¹ */
  .property-item-simple {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    gap: 6px !important;
    min-width: auto !important;
    white-space: nowrap;
    height: 100%;
  }

  .property-label-simple {
    font-size: 12px !important;
    color: var(--sub);
    font-weight: 500;
    white-space: nowrap;
  }

  .property-value-simple {
    font-size: 13px !important;
    color: var(--text);
    font-weight: 600;
    white-space: nowrap;
  }

  .expand-detail-btn {
    background: var(--accent-color);
    color: white;
    border: none;
    border-radius: 16px;
    padding: 6px 12px;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    white-space: nowrap;
    flex-shrink: 0;
    transition: all 0.2s ease;
    margin-left: auto;
  }

  .expand-detail-btn:hover {
    background: var(--accent-hover);
    transform: translateY(-1px);
  }

/* =========================
   ç§»åŠ¨ç«¯æ ‡ç­¾é¡µå¯¼èˆªç³»ç»Ÿ
========================= */

/* æ ‡ç­¾é¡µå¯¼èˆªå®¹å™¨ */
.mobile-tab-nav {
  display: flex;
  background: var(--card);
  border-bottom: 1px solid var(--btn-sec);
  padding: 0 16px;
  position: sticky;
  top: 0;
  z-index: 10;
}

/* æ ‡ç­¾æŒ‰é’® */
.mobile-tab-btn {
  flex: 1;
  background: none;
  border: none;
  padding: 14px 12px;
  font-size: 15px;
  font-weight: 500;
  color: var(--sub);
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  -webkit-tap-highlight-color: transparent;
}

/* æ¿€æ´»çŠ¶æ€æ ‡ç­¾ */
.mobile-tab-btn.active {
  color: var(--accent-color);
  font-weight: 600;
}

/* æ¿€æ´»çŠ¶æ€æŒ‡ç¤ºæ¡ */
.mobile-tab-btn.active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 12px;
  right: 12px;
  height: 3px;
  background: var(--accent-color);
  border-radius: 2px 2px 0 0;
}

/* æ ‡ç­¾æŒ‰é’®ç‚¹å‡»åé¦ˆ */
.mobile-tab-btn:active {
  background: var(--btn-sec-h);
  transform: scale(0.98);
}

/* å®Œå…¨ç¦ç”¨ç§»åŠ¨ç«¯hoveræ•ˆæœ */
@media (hover: none), (pointer: coarse) {
  .mobile-tab-btn:hover {
    background: none !important;
    transform: none !important;
  }
}

/* æ ‡ç­¾å†…å®¹åŒºåŸŸ */
.mobile-tab-content {
  display: none;
  animation: fadeIn 0.3s ease;
}

.mobile-tab-content.active {
  display: block;
}

/* æ·¡å…¥åŠ¨ç”» */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* é¢æ¿å†…å®¹åŒºåŸŸè°ƒæ•´ï¼ˆé€‚åº”æ ‡ç­¾å¯¼èˆªï¼‰ */
.mobile-side-panel .panel-content {
  padding: 20px;
  padding-bottom: 80px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* ç¡®ä¿ç»Ÿè®¡åŒºåŸŸåœ¨æ ‡ç­¾é¡µå†…æ ·å¼æ­£ç¡® */
#statsTab .mobile-stats-section {
  padding: 0;
}

/* ç¡®ä¿å†å²åŒºåŸŸåœ¨æ ‡ç­¾é¡µå†…æ ·å¼æ­£ç¡® */
#historyTab .mobile-history-section {
  margin-top: 0;
  border-top: none;
  padding-top: 0;
}

/* =========================
   ç§»åŠ¨ç«¯åˆ†ç±»ç»Ÿè®¡åŒºåŸŸæ ·å¼
========================= */

/* åˆ†ç±»ç»Ÿè®¡åŒºåŸŸå®¹å™¨ */
.mobile-category-section {
  margin: 20px 0;
  border-radius: 12px;
  background: var(--card);
  border: 1px solid var(--btn-sec);
  overflow: hidden;
}

/* åˆ†ç±»å¤´éƒ¨ */
.mobile-category-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: color-mix(in srgb, var(--btn-sec) 20%, transparent);
  border-bottom: 1px solid var(--btn-sec);
}

.mobile-category-header h4 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
}

.mobile-expand-all {
  background: none;
  border: none;
  color: var(--accent-color);
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 6px;
  transition: background 0.2s ease;
}

.mobile-expand-all:active {
  background: var(--btn-sec);
}

/* åˆ†ç±»ç»„ */
.mobile-category-group {
  border-bottom: 1px solid var(--btn-sec);
}

.mobile-category-group:last-child {
  border-bottom: none;
}

/* åˆ†ç±»æ ‡é¢˜ */
.mobile-category-title {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 20px;
  cursor: pointer;
  transition: background 0.2s ease;
  -webkit-tap-highlight-color: transparent;
}

.mobile-category-title:active {
  background: var(--btn-sec-h);
}

.mobile-category-title span:first-child {
  font-size: 15px;
  font-weight: 500;
  color: var(--text);
}

.mobile-caret {
  font-size: 18px;
  color: var(--sub);
  transition: transform 0.3s ease;
}

/* å±•å¼€çŠ¶æ€ */
.mobile-category-group.expanded .mobile-caret {
  transform: rotate(90deg);
}

/* åˆ†ç±»å†…å®¹ */
.mobile-category-content {
  display: none;
  padding: 0 20px 16px;
  animation: slideDown 0.3s ease;
}

.mobile-category-group.expanded .mobile-category-content {
  display: block;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* è¿›åº¦æ¡é¡¹ç›® */
.mobile-progress-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
}

.mobile-progress-item:not(:last-child) {
  border-bottom: 1px solid color-mix(in srgb, var(--btn-sec) 30%, transparent);
}

.mobile-progress-label {
  flex: 1;
  font-size: 14px;
  color: var(--text);
  min-width: 80px;
}

.mobile-progress-bar {
  flex: 2;
  height: 8px;
  background: var(--btn-sec);
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}

.mobile-progress-fill {
  height: 100%;
  border-radius: 4px;
  transition: width 0.5s ease;
  position: relative;
}

/* è¿›åº¦æ¡é¢œè‰² */
.mobile-progress-fill.c-base {
  background: linear-gradient(90deg, #4CAF50, #8BC34A);
}
.mobile-progress-fill.a-base {
  background: linear-gradient(90deg, #2196F3, #03A9F4);
}
.mobile-progress-fill.natural {
  background: linear-gradient(90deg, #FF9800, #FFC107);
}
.mobile-progress-fill.accidental {
  background: linear-gradient(90deg, #9C27B0, #E91E63);
}

.mobile-progress-value {
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
  min-width: 40px;
  text-align: right;
}

/* æ— æ•°æ®çŠ¶æ€ */
.mobile-no-data {
  text-align: center;
  color: var(--sub);
  font-size: 14px;
  padding: 20px;
  font-style: italic;
}

/* è°ƒæ€§å’Œéš¾åº¦ç»Ÿè®¡çš„ç‰¹æ®Šæ ·å¼ */
#mobileKeyStats .mobile-progress-item,
#mobileDifficultyStats .mobile-progress-item {
  padding: 8px 0;
}

#mobileKeyStats .mobile-progress-label,
#mobileDifficultyStats .mobile-progress-label {
  font-size: 13px;
  min-width: 60px;
}

/* =========================
   ç§»åŠ¨ç«¯åˆ†ç±»ç»Ÿè®¡è¿›åº¦æ¡é¢œè‰²
========================= */

/* è°ƒæ€§è¿›åº¦æ¡é¢œè‰² */
.mobile-progress-fill.key-c { background: linear-gradient(90deg, #4CAF50, #8BC34A); }
.mobile-progress-fill.key-d { background: linear-gradient(90deg, #2196F3, #03A9F4); }
.mobile-progress-fill.key-e { background: linear-gradient(90deg, #FF9800, #FFC107); }
.mobile-progress-fill.key-f { background: linear-gradient(90deg, #9C27B0, #E91E63); }
.mobile-progress-fill.key-g { background: linear-gradient(90deg, #607D8B, #78909C); }
.mobile-progress-fill.key-a { background: linear-gradient(90deg, #795548, #8D6E63); }
.mobile-progress-fill.key-b { background: linear-gradient(90deg, #F44336, #EF5350); }

/* éš¾åº¦è¿›åº¦æ¡é¢œè‰² */
.mobile-progress-fill.basic { background: linear-gradient(90deg, #00BCD4, #26C6DA); }
.mobile-progress-fill.extended { background: linear-gradient(90deg, #FF5722, #FF7043); }
  /* =========================
     ç§»åŠ¨ç«¯é¢æ¿å†…å®¹æ ·å¼
  ========================= */

  /* ç»Ÿè®¡åˆ—è¡¨æ ·å¼ */
  .mobile-stat-list {
    display: flex;
    flex-direction: column;
    gap: 0px;
    margin-bottom: 20px;
  }
  
  .mobile-stat-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid var(--btn-sec);
  }
  
  .mobile-stat-label {
    font-size: 14px;
    color: var(--text);
    font-weight: 500;
  }
  
  .mobile-stat-value {
    font-size: 14px;
    font-weight: 600;
    color: var(--text);
  }

/* ç§»åŠ¨ç«¯å†å²è®°å½• - å¤ç”¨æ¡Œé¢ç«¯æ ·å¼ï¼Œåªè°ƒæ•´é«˜åº¦ */
.mobile-side-panel .history-item {
    height: 45px !important;
    min-height: 45px !important;
  }
  
  .mobile-side-panel .history-section-left,
  .mobile-side-panel .history-section-middle,
  .mobile-side-panel .history-section-right {
    min-height: 45px !important;
  }
  
  /* è°ƒæ•´ç§»åŠ¨ç«¯å­—ä½“å¤§å° */
  .mobile-side-panel .solfeggio-name {
    font-size: 14px !important;
  }
  
  .mobile-side-panel .key-info {
    font-size: 11px !important;
  }
  
  /* ç¡®ä¿ç§»åŠ¨ç«¯æŒ‰å‹æ•ˆæœæ­£ç¡® */
  .mobile-side-panel .history-item.playing-base .history-section-left,
  .mobile-side-panel .history-item.playing-target .history-section-right {
    height: 100% !important;
    min-height: 100% !important;
  }
  
  /* è°ƒæ•´ç§»åŠ¨ç«¯å†å²è®°å½•å®¹å™¨é«˜åº¦ */
  .mobile-side-panel .history-list {
    max-height: 250px;
  }
  

  /* è®¾ç½®é¢æ¿å†…å®¹æ ·å¼ */
  .mobile-settings-section {
    display: flex;
    flex-direction: column;
    gap: 0px;
  }
  
  .mobile-settings-group {
  border: none;
  border-radius: 0;
  padding: 0;            /* å­é¡¹å„è‡ªæ§åˆ¶å†…è¾¹è· */
  background: transparent;
  margin: 0 0 2px 0;    /* ä¿ç•™åˆ†ç»„é—´è·ä»¥å¢å¼ºè§†è§‰å±‚æ¬¡ */
}
  
  .mobile-settings-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 12px;
  }
  
  .mobile-settings-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid var(--btn-sec);
  }
  
  .mobile-settings-option:last-child {
    border-bottom: none;
  }
  
  .mobile-settings-label {
    font-size: 14px;
    color: var(--text);
    font-weight: 500;
  }
  
  /* æŒ‰é’®ç»„æ ·å¼ */
  .mobile-range-buttons,
  .mobile-mode-buttons {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
  }
  
  .mobile-range-btn,
  .mobile-mode-btn {
    flex: 1;
    padding: 12px;
    border-radius: 6px;
    background: var(--btn-sec);
    color: var(--text);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
  }
  
  .mobile-range-btn.active,
  .mobile-mode-btn.active {
    background: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
  }
  
  /* é€‰æ‹©æ¡†æ ·å¼ */
  #mobileKeySelect,
  #mobileDifficultySelect {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--btn-sec);
    border-radius: 6px;
    background: var(--card);
    color: var(--text);
    font-size: 14px;
    margin-bottom: 8px;
  }
  
  /* å¤é€‰æ¡†æ ·å¼ */
  input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--accent-color);
  }
  
  /* æ ‡é¢˜æ ·å¼ */
  .mobile-settings-section h4,
  .mobile-stats-section h4,
  .mobile-history-section h4 {
    margin: 0 0 16px 0;
    color: var(--text);
    font-size: 16px;
    font-weight: 600;
  }


  /* ====== æ‰å¹³åˆ—è¡¨é¡¹ï¼ˆè¦†ç›–åŸæœ‰å¡ç‰‡/åœ†è§’é£æ ¼ï¼‰ ====== */
.mobile-side-panel .mobile-settings-option,
.mobile-side-panel .mobile-stat-item,
.mobile-side-panel .mobile-history-item,
.mobile-side-panel .mobile-settings-row,
.mobile-side-panel .setting-item {
  background: transparent !important;   /* å»èƒŒæ™¯ */
  border: none !important;              /* å»è¾¹æ¡† */
  border-radius: 0 !important;          /* å»åœ†è§’ */
  margin: 0 !important;                 /* å–æ¶ˆå¤–è¾¹è· */
  padding: 12px 16px !important;        /* è§¦æ§å‹å¥½ï¼šé«˜åº¦å’Œå·¦å³å†…è¾¹è· */
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 12px !important;
  color: var(--text) !important;
  font-size: 15px;
  min-height: 48px !important;          /* ç¡®ä¿è§¦æ§ç›®æ ‡ */
  line-height: 1;
}

/* ä¸‹è¾¹çº¿åˆ†éš”ï¼ˆæœ€åä¸€é¡¹ä¸æ˜¾ç¤ºï¼‰ */
.mobile-side-panel .mobile-settings-option:not(:last-child),
.mobile-side-panel .mobile-stat-item:not(:last-child),
.mobile-side-panel .mobile-history-item:not(:last-child),
.mobile-side-panel .setting-item:not(:last-child) {
  border-bottom: 1px solid rgba(0,0,0,0.06); /* ä½å¯¹æ¯”åº¦åˆ†éš”çº¿ï¼Œé€‚é…äº®/æš—ä¸»é¢˜ */
  /* å¦‚æœä½ ä½¿ç”¨ theme å˜é‡ï¼š border-bottom: 1px solid var(--btn-sec); */
}

/* ç‚¹å‡»/è§¦æ‘¸åé¦ˆ */
.mobile-side-panel .mobile-settings-option:active,
.mobile-side-panel .mobile-stat-item:active,
.mobile-side-panel .mobile-history-item:active,
.mobile-side-panel .setting-item:active {
  background: rgba(0,0,0,0.04); /* è½»å¾®æŒ‰ä¸‹é«˜äº® */
}

/* å›¾æ ‡å¯¹é½ */
.mobile-side-panel .mobile-settings-option .item-icon,
.mobile-side-panel .mobile-stat-item .item-icon,
.mobile-side-panel .setting-item .item-icon {
  width: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* åˆ†ç»„æ ‡é¢˜ä¿ç•™æ ·å¼ï¼ˆæ›´ç®€æ´ï¼‰ */
.mobile-side-panel .mobile-settings-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
  padding: 10px 16px;
  margin: 0;
}
}